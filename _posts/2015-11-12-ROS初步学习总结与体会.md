---
layout: post
title: ROS初步学习总结与体会
category: 技术
comments: true
---
#ROS初步学习总结与体会
学习ROS（机器人操作系统）已经有差不多一个月了。从最仅仅对ROS感到好奇，到现在可能研究生的课题项目都需要围绕ROS来进行，看来确实是有缘分。

最开始使用的是刘品杰老师的《**机器人人操作系统**》，但是学完前三章后发现该书所采用确实和我以后所需要的indigo版本，差别太大了。于是换了教材使用了国防大学肖军浩老师的《**机器人操作系统浅析**》。这次基本上没有遇到太多问题，按照上面的教程完成了对ROS系统的入门。

## 什么是ROS操作系统

ROS其官方的定义是：
>ROS是面向机器人的开源的元操作系统，他能提供类似传统操作系统的诸多功能，例如硬件抽象、底层设备控制、常用功能实现、进程间消息传递、软件包管理等，此外，还有很多相关工具和库，用于获取、编译、编辑代码以及在多个计算机之间运行程序完成分布式计算。-----[ROS官方网站](http://www.ros.org/about-ros/)

学到现在我对段话有了实实在在的体会，首先**硬件抽象**在ROS中能够将我们机器人**速度、位置、方位**从硬件中抽象出来，而无论你的机器人平台是那种，传输的是固定格式的消息指令，**底层设备控制**应该就是各种ROS核心包并不具备但是各种机器人提供的驱动包，例如Arduino，TurtleBot等，**进程间消息传递**应该是ROS的核心，这里的进程指ROS中的基本单位节点（NODE），节点间传递消息（msg），**软件包（功能包）管理**应该是在云端利用wiki和github平台在本地利用命令行来管理的吧。**工具和库**这里就有很多了比如图形化界面**RVIZ**,**rqt工具集**，**OPENCV**,**PCL**等，在indigo版本中主要使用catkin来编译、分布式计算这块我倒是还没尝试过。

总之，ROS很完美的定义了机器人**大脑**的这一角色。

##ROS能干什么
第一次使用命令
`rosrun turtlesim turtlesim_node`
让小乌龟出现在屏幕上时，真的会感觉特别有趣。虽然这只是一个机器人，却能从它身上管窥整个ROS的所有基本功能，可以通过它了解ROS的**功能包、节点、节点管理器、消息、话题、发布和订阅**这些核心的功能，并在他的基础上学习写符合编译要求的C++或者Python程序。
举个**实际例子**，例如turtlesim就是一个功能包，其中的一个节点就是运行的小乌龟仿真器（turtlesim_node），运行这个节点，然后他会被放到节点管理器（roscore）上，然后这个功能包中另一个节点叫键盘遥控小乌龟（turtle_teleop_key），同样将他被放到节点管理器上，遥控节点会发布一个话题（topic），然后把这个节点收到的键盘指令编辑为消息（message）发布到话题上，而小乌龟仿真器的节点又会订阅这个话题，然后就能按照指令运动了。
这就是ROS的核心吧，后边无论是飞行器还是地面的移动机器人，无不遵循这样的规则，可能存在更多的节点，甚至存在于一个网络下的多个节点管理器，但是解构下来还是这样一个简单的机制。
那么ROS还能够干什么？可以说在这个系统上，你能够得到一个相对智能的机器人，比如环境感知，语音识别，机器人融合多种传感器进行行为学习，行为重复等。

##ROS上手容易，但深入难
可以说，但我完成了小乌龟仿真入门和《Learning ROS by example》这两本书后，已经能够用**一个irobot-icreat的机器人+Kinect+一台安装linux的电脑**制作出一个能够识别我的语音命令，让他去一个地方，在这个过程中自动规避遇到的障碍物，还能自动跟着我，并且在这个过程中发出声音。是不是比较智能了，这还是在几乎没有写多少行程序下就能完成的功能。

ROS的上手应该是非常容易了，当然在这个过程中会遇到一些问题，更多是linux使用上面的问题，现在ROS2已经开始支持Windows了，相信以后会更加具有应用前景吧。
当然想要深入，也就是开发自己的功能包，那就要费一番功夫了，所以初期还是以整合开发为主，单个子系统最好就使用现成的，在这个过程中逐步探索学习ROS编程技巧吧。

##我的ROS项目
我的项目是做基于ROS的多个无人飞行器协同控制，顾名思义，简单地说就是用一台电脑安装上ROS控制多个飞行器，可能初期就是让两架飞机能够同时起飞然后一块飞到目标点降落就行。

在底层直接采用派诺特公司的ardrone了，WiFi通信容易且成本低，易于构建多机接入系统的开发环境。好在ROS已经有直接能够控制ardrone的功能包了。

双11买的一架ARdrone，等到了，就接着写下一篇用ROS控制Ardrone的博文吧！！
